<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://unpkg.com/tailwindcss@2.1.4/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@tailwindcss/custom-forms@0.2.1/dist/custom-forms.css" rel="stylesheet">
  
    <base target="_top">
    
    <script>
(function(l,e){"object"===typeof exports?e(exports):"function"===typeof define&&define.amd?define(["exports"],e):e(l)})(this,function(l){function e(a){this._targetElement="undefined"!=typeof a.length?a:[a];"undefined"===typeof window._progressjsId&&(window._progressjsId=1);"undefined"===typeof window._progressjsIntervals&&(window._progressjsIntervals={});this._options={theme:"blue",overlayMode:!1,considerTransition:!0}}function m(a,c){var d=this;100<=c&&(c=100);a.hasAttribute("data-progressjs")&&
setTimeout(function(){"undefined"!=typeof d._onProgressCallback&&d._onProgressCallback.call(d,a,c);var b=h(a);b.style.width=parseInt(c)+"%";var b=b.querySelector(".progressjs-percent"),g=parseInt(b.innerHTML.replace("%","")),e=parseInt(c),j=function(a,b,c){var d=Math.abs(b-c);3>d?k=30:20>d?k=20:intervanIn=1;0!=b-c&&(a.innerHTML=(f?++b:--b)+"%",setTimeout(function(){j(a,b,c)},k))},f=!0;g>e&&(f=!1);var k=10;j(b,g,e)},50)}function h(a){a=parseInt(a.getAttribute("data-progressjs"));return document.querySelector('.progressjs-container > .progressjs-progress[data-progressjs="'+
a+'"] > .progressjs-inner')}function p(a){for(var c=0,d=this._targetElement.length;c<d;c++){var b=this._targetElement[c];if(b.hasAttribute("data-progressjs")){var g=h(b);(g=parseInt(g.style.width.replace("%","")))&&m.call(this,b,g+(a||1))}}}function q(){var a,c=document.createElement("fakeelement"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in d)if(void 0!==c.style[a])return d[a]}var n=function(a){if("object"===
typeof a)return new e(a);if("string"===typeof a){if(a=document.querySelectorAll(a))return new e(a);throw Error("There is no element with given selector.");}return new e(document.body)};n.version="0.1.0";n.fn=e.prototype={clone:function(){return new e(this)},setOption:function(a,c){this._options[a]=c;return this},setOptions:function(a){var c=this._options,d={},b;for(b in c)d[b]=c[b];for(b in a)d[b]=a[b];this._options=d;return this},start:function(){"undefined"!=typeof this._onBeforeStartCallback&&
this._onBeforeStartCallback.call(this);if(!document.querySelector(".progressjs-container")){var a=document.createElement("div");a.className="progressjs-container";document.body.appendChild(a)}for(var a=0,c=this._targetElement.length;a<c;a++){var d=this._targetElement[a];if(!d.hasAttribute("data-progressjs")){var b=d,g,e,j;"body"===b.tagName.toLowerCase()?(g=b.clientWidth,e=b.clientHeight):(g=b.offsetWidth,e=b.offsetHeight);for(var f=j=0;b&&!isNaN(b.offsetLeft)&&!isNaN(b.offsetTop);)j+=b.offsetLeft,
f+=b.offsetTop,b=b.offsetParent;b=f;d.setAttribute("data-progressjs",window._progressjsId);f=document.createElement("div");f.className="progressjs-progress progressjs-theme-"+this._options.theme;f.style.position="body"===d.tagName.toLowerCase()?"fixed":"absolute";f.setAttribute("data-progressjs",window._progressjsId);var k=document.createElement("div");k.className="progressjs-inner";var h=document.createElement("div");h.className="progressjs-percent";h.innerHTML="1%";k.appendChild(h);this._options.overlayMode&&
"body"===d.tagName.toLowerCase()?(f.style.left=0,f.style.right=0,f.style.top=0,f.style.bottom=0):(f.style.left=j+"px",f.style.top=b+"px",f.style.width=g+"px",this._options.overlayMode&&(f.style.height=e+"px"));f.appendChild(k);document.querySelector(".progressjs-container").appendChild(f);m(d,1);++window._progressjsId}}return this},set:function(a){for(var c=0,d=this._targetElement.length;c<d;c++)m.call(this,this._targetElement[c],a);return this},increase:function(a){p.call(this,a);return this},autoIncrease:function(a,
c){var d=this,b=parseInt(this._targetElement[0].getAttribute("data-progressjs"));"undefined"!=typeof window._progressjsIntervals[b]&&clearInterval(window._progressjsIntervals[b]);window._progressjsIntervals[b]=setInterval(function(){p.call(d,a)},c);return this},end:function(){a:{"undefined"!=typeof this._onBeforeEndCallback&&(!0===this._options.considerTransition?h(this._targetElement[0]).addEventListener(q(),this._onBeforeEndCallback,!1):this._onBeforeEndCallback.call(this));for(var a=parseInt(this._targetElement[0].getAttribute("data-progressjs")),
c=0,d=this._targetElement.length;c<d;c++){var b=this._targetElement[c],e=h(b);if(!e)break a;var l=1;100>parseInt(e.style.width.replace("%",""))&&(m.call(this,b,100),l=500);(function(a,b){setTimeout(function(){a.parentNode.className+=" progressjs-end";setTimeout(function(){},1E3)},l)})(e,b)}if(window._progressjsIntervals[a])try{clearInterval(window._progressjsIntervals[a]),window._progressjsIntervals[a]=null,delete window._progressjsIntervals[a]}catch(j){}}return this},
onbeforeend:function(a){if("function"===typeof a)this._onBeforeEndCallback=a;else throw Error("Provided callback for onbeforeend was not a function");return this},onbeforestart:function(a){if("function"===typeof a)this._onBeforeStartCallback=a;else throw Error("Provided callback for onbeforestart was not a function");return this},onprogress:function(a){if("function"===typeof a)this._onProgressCallback=a;else throw Error("Provided callback for onprogress was not a function");return this}};return l.progressJs=
n});
</script>

</head>
  <body>
    <link
	href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp"
	rel="stylesheet">


<div class="relative min-h-screen flex flex-col flex-auto flex-shrink-0 antialiased bg-gray-100 text-gray-800 min-h-screen inset-0" >  
  
  <!-- CABEÇALHO -->
  <div class=" h-14 relative left" style="width:100%">


 <div class=" h-10 bg-white shadow-sm hover:shadow-xl rounded-full relative hover:-translate-y-1 duration-700 hover:shadow-xl cursor-pointer" style="width:40px;top:5px;left:1000px;box-shadow: rgba(0, 0, 0, 0.05) 0px 2px 1px, rgba(0, 0, 0, 0.05) 0px 4px 2px, rgba(0, 0, 0, 0.05) 0px 8px 4px, rgba(0, 0, 0, 0.05) 0px 16px 8px, rgba(0, 0, 0, 0.05) 0px 32px 16px" ;="">
        <span class="material-icons-outlined px-2 py-2" style="color: #9aa0a6;">tune</span>
      </div>

      <div class=" h-10 bg-white shadow-sm hover:shadow-xl rounded-full relative hover:-translate-y-1 duration-700 hover:shadow-xl cursor-pointer" style="width:40px;top:-34px;left:950px;box-shadow: rgba(0, 0, 0, 0.05) 0px 2px 1px, rgba(0, 0, 0, 0.05) 0px 4px 2px, rgba(0, 0, 0, 0.05) 0px 8px 4px, rgba(0, 0, 0, 0.05) 0px 16px 8px, rgba(0, 0, 0, 0.05) 0px 32px 16px" ;="">
        <span class="material-icons-outlined px-2 py-2" style="color: #9aa0a6;">source</span>
      </div>


  </div>
  <!-- CABEÇALHO FIM -->
  
  <!-- INICIO CONTENT -->
<!--
<div class="relative  bg-white text-gray-800 w-64 h-10 rounded-full" style="left:840px;top:10px;">
      <div style="top:10px:left:20px">
           Pinheiros 
    </div>
</div>
-->
<div class="container pt-6 grid grid-cols-6 mx-auto px-40" id="Material"></div>

<!-- <div class=" text-white text-center items-center absolute rounded-full h-7 w-7  bg-white ml-4 -top-3" style="top:10px;left:900px;box-shadow:rgba(0, 0, 0, 0.09) 0px 2px 1px,rgba(0, 0, 0, 0.08) 0px 4px 2px, rgba(0, 0, 0, 0.08) 0px 8px 4px, rgba(0, 0, 0, 0.07) 0px 16px 8px, rgba(0, 0, 0, 0.07) 0px 32px 16px;"></div>
<div class="progress" id="progress"></div> -->

<!-- LISTAGEM -->

<!-- LISTAGEM FIM-->

  <div class="fixed flex flex-col top-0 left-0 w-44 bg-white h-full border-r">
  <div class="flex items-center justify-center h-14 border-b">

<div class="relative mt-8 bg-white py-6 px-6 rounded-3xl w-64 my-4 mx-auto max-w-sm transform cursor-pointer">

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="117px" height="76px" viewBox="0 0 261.667 170.668" enable-background="new 0 0 261.667 170.668" xml:space="preserve">
<g>
	<path d="M31.53,14.093h53.104l31.17,52.192l31.234-52.192h52.817l-60.155,89.913v64.798H91.79v-64.798L31.53,14.093z"/>
	<polygon fill="#FFF200" points="88.125,66.286 49.51,31.094 3.851,14.093 56.954,14.093  "/>
	<polygon fill="#92278F" points="88.125,66.286 28.762,51.263 3.851,14.093 49.51,31.094  "/>
	<polygon fill="#27AAE1" points="64.11,104.006 44.252,74.376 28.762,51.263 88.125,66.286  "/>
	<polygon fill="#D1D3D4" points="154.718,40.189 147.31,51.263 119.359,14.093 172.178,14.093  "/>
	<polygon fill="#ED1C24" points="147.31,51.263 121.509,29.761 88.125,66.286 119.359,14.093  "/>
	<polygon fill="#FBB040" points="147.31,51.263 64.11,104.006 88.125,66.286 121.509,29.427  "/>
	<polygon fill="#4B62AD" points="74.842,106.761 64.11,143.339 64.11,104.006 147.31,51.263  "/>
	<polygon fill="#F15A29" points="88.066,156.072 64.11,143.339 64.11,168.805 112.021,168.805  "/>
	<polygon fill="#FFF200" points="112.021,104.006 64.11,143.339 74.842,106.761 147.31,51.263  "/>
	<polygon fill="#39B54A" points="112.021,168.805 64.11,143.339 102.175,143.339 112.021,104.107  "/>
	<polygon fill="#F15A29" points="102.175,143.339 64.11,143.339 112.021,104.006 112.021,104.006  "/>
</g>
<g enable-background="new    ">
	<path fill="#FFFFFF" d="M109.692,125.213c2.491-0.524,6.424-0.918,10.423-0.918c5.703,0,9.374,0.983,12.127,3.212   c2.295,1.704,3.671,4.327,3.671,7.801c0,4.261-2.819,7.997-7.473,9.702v0.131c4.195,1.049,9.112,4.523,9.112,11.078   c0,3.802-1.507,6.687-3.736,8.85c-3.081,2.818-8.063,4.13-15.273,4.13c-3.933,0-6.949-0.263-8.85-0.524V125.213z M115.395,143.305   h5.178c6.031,0,9.571-3.146,9.571-7.407c0-5.179-3.933-7.21-9.702-7.21c-2.622,0-4.13,0.196-5.047,0.393V143.305z M115.395,164.479   c1.114,0.196,2.753,0.262,4.785,0.262c5.9,0,11.341-2.163,11.341-8.587c0-6.031-5.179-8.521-11.406-8.521h-4.72V164.479z"/>
</g>
<g enable-background="new    ">
	<path d="M138.664,125.213c2.884-0.59,7.014-0.918,10.947-0.918c6.096,0,10.029,1.114,12.782,3.605   c2.229,1.967,3.474,4.982,3.474,8.391c0,5.834-3.67,9.701-8.324,11.275v0.196c3.408,1.18,5.44,4.326,6.489,8.915   c1.442,6.162,2.491,10.423,3.409,12.127h-5.9c-0.721-1.245-1.704-5.048-2.949-10.554c-1.312-6.097-3.672-8.391-8.85-8.587h-5.375   v19.141h-5.703V125.213z M144.367,145.337h5.834c6.096,0,9.963-3.343,9.963-8.391c0-5.703-4.129-8.193-10.16-8.259   c-2.753,0-4.72,0.262-5.637,0.523V145.337z"/>
	<path d="M175.433,154.908l-4.588,13.896h-5.9l15.012-44.182h6.883l15.077,44.182h-6.097l-4.719-13.896H175.433z M189.92,150.45   l-4.326-12.717c-0.983-2.885-1.639-5.507-2.294-8.063h-0.131c-0.656,2.622-1.377,5.311-2.229,7.998l-4.326,12.782H189.92z"/>
	<path d="M201.651,161.856c2.557,1.573,6.293,2.884,10.226,2.884c5.834,0,9.243-3.081,9.243-7.538c0-4.13-2.36-6.489-8.325-8.784   c-7.211-2.557-11.668-6.293-11.668-12.521c0-6.883,5.703-11.996,14.29-11.996c4.523,0,7.801,1.049,9.768,2.163l-1.573,4.654   c-1.442-0.786-4.393-2.098-8.391-2.098c-6.031,0-8.325,3.605-8.325,6.621c0,4.13,2.688,6.162,8.784,8.521   c7.473,2.885,11.274,6.49,11.274,12.979c0,6.817-5.048,12.717-15.47,12.717c-4.262,0-8.915-1.245-11.275-2.818L201.651,161.856z"/>
	<path d="M234.49,124.623v44.182h-5.703v-44.182H234.49z"/>
	<path d="M238.488,124.623h5.703v39.396h18.879v4.785h-24.582V124.623z"/>
</g>
<g enable-background="new    ">
	<path fill="#808285" d="M10.649,12.537c-0.583,0.209-1.733,0.553-3.092,0.553c-1.524,0-2.779-0.389-3.765-1.329   c-0.866-0.837-1.404-2.182-1.404-3.75c0.015-3.003,2.077-5.198,5.453-5.198c1.165,0,2.077,0.254,2.51,0.463l-0.314,1.061   c-0.538-0.239-1.21-0.433-2.226-0.433c-2.45,0-4.048,1.523-4.048,4.048c0,2.555,1.539,4.063,3.884,4.063   c0.852,0,1.434-0.12,1.733-0.27V8.743H7.333V7.697h3.316V12.537z"/>
	<path fill="#808285" d="M14.628,3.052c0.657-0.135,1.599-0.21,2.495-0.21c1.39,0,2.286,0.254,2.913,0.822   c0.508,0.448,0.792,1.135,0.792,1.912c0,1.329-0.837,2.211-1.897,2.569V8.19c0.777,0.269,1.24,0.985,1.479,2.031   c0.329,1.404,0.567,2.375,0.777,2.764h-1.345c-0.164-0.284-0.388-1.15-0.672-2.405c-0.299-1.389-0.837-1.912-2.017-1.957h-1.225   v4.362h-1.3V3.052z M15.928,7.638h1.33c1.389,0,2.271-0.762,2.271-1.912c0-1.3-0.941-1.867-2.315-1.883   c-0.627,0-1.076,0.061-1.285,0.12V7.638z"/>
	<path fill="#808285" d="M25.957,2.917v5.96c0,2.256,1.001,3.212,2.345,3.212c1.494,0,2.45-0.985,2.45-3.212v-5.96h1.315v5.871   c0,3.092-1.628,4.361-3.81,4.361c-2.062,0-3.615-1.18-3.615-4.302V2.917H25.957z"/>
	<path fill="#808285" d="M36.315,3.036c0.627-0.104,1.449-0.194,2.495-0.194c1.285,0,2.226,0.299,2.823,0.837   c0.553,0.479,0.882,1.21,0.882,2.106c0,0.911-0.269,1.628-0.777,2.151C41.05,8.668,39.93,9.042,38.66,9.042   c-0.388,0-0.747-0.016-1.045-0.09v4.033h-1.3V3.036z M37.615,7.892c0.284,0.074,0.642,0.104,1.076,0.104   c1.568,0,2.524-0.762,2.524-2.151c0-1.329-0.941-1.972-2.375-1.972c-0.567,0-1,0.045-1.225,0.104V7.892z"/>
	<path fill="#808285" d="M54.858,7.847c0,3.466-2.106,5.303-4.676,5.303c-2.659,0-4.526-2.062-4.526-5.108   c0-3.197,1.987-5.288,4.676-5.288C53.081,2.753,54.858,4.858,54.858,7.847z M47.046,8.011c0,2.151,1.165,4.078,3.211,4.078   c2.062,0,3.227-1.897,3.227-4.183c0-2.002-1.046-4.093-3.212-4.093C48.121,3.813,47.046,5.8,47.046,8.011z"/>
</g>
</svg>


      </div>
    </div>
    <div class="overflow-y-auto overflow-x-hidden flex-grow">
      <ul class="flex flex-col py-4 space-y-1">
        <li class="px-5">
          <div class="flex flex-row items-center h-8">
            <div class="text-sm font-light tracking-wide text-gray-500">Menu</div>
          </div>
        </li>
        <li>

          <a href="#" class="relative flex flex-row items-center h-11 focus:outline-none text-gray-800 border-indigo-500 bg-gray-50 hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6">

            <span class="inline-flex justify-center items-center ml-4">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
            </span>
            <span class="ml-2 text-sm tracking-wide truncate">Material</span>
            <span class="px-2 py-0.5 ml-auto text-xs font-medium tracking-wide text-indigo-500 bg-indigo-50 rounded-full">Novo</span>
          </a>
        </li>
        <li>
          <a href="#" class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6">
            <span class="inline-flex justify-center items-center ml-4">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg>
            </span>
            <span class="ml-2 text-sm tracking-wide truncate">...</span>
            <span class="px-2 py-0.5 ml-auto text-xs font-medium tracking-wide text-indigo-500 bg-indigo-50 rounded-full"></span>
          </a>
        </li>

      </ul>
    </div>
  </div>
  
      <!-- Tab Contents -->
      <div id="tab-contents">

            <!-- LISTAGEM -->
            <div class="container mx-auto px-40">
            <div id="listagem" class=" ml-2" style="width:780px;">
                  <table class="table text-gray-400 border-separate space-y-7 text-sm " id="material">
                     <thead class=" bg-white text-gray-500">
                      <tr>
                        <th class="p-3 text-left">Material</th>
                        <th class="p-3 text-left">Minimo</th>                        
                         <th class="p-3 text-left">Quant. Total</th>
                          <th class="p-3 text-left">Quant Atual</th>                         
                         <th class="p-3 text-left">Entregar</th>
                        <th class="p-3 text-center">Status</th>
                      </tr>
                    </thead>

                    <tbody id="itensAg">
                          <!-- LISTA -->

                          <!-- LISTA FIM -->
                    </tbody>
  
                  </table>
            </div>
                        <!-- FORMULARIO DE ENTRADA/SAIDA -->
                        <div>
                            
                              <div id="entsaid" style="top:-1150px;width:250px;left:730px" class="hidden border-b-2 border-purple-400 relative left-3/4 bg-white py-3 px-3 rounded-3xl w-34 my-4 max-w-sm transform shadow hover:-translate-y-1 duration-700 hover:shadow-2xl">
                              <div class="flex space-x-2 text-gray-400 text-xs my-3 top-0">Entrada / Saida</div>
                                  <div class="mt-4">
                                      <p class="text-xl font-semibold my-1"><div class="text-shadow bg-clip-text font-semibold text-purple-600" id="card-nome-mat"></div></p>
                                          <div class="flex space-x-2 text-gray-400 text-sm">
                                          <p><div id="card-quant-mat" style="top:5px;left:180px" class="font-semibold text-white text-center items-center absolute rounded-full h-5 w-12  shadow-xl "></div></p>
                                          </div>
                                                  <div class="relative w-full mb-3">
                                                  <input type="text" id="quantidade" class="p-2 p-2 mt-3 w-32 focus:outline-none placeholder-gray-400 text-gray-700 bg-white rounded-full text-sm shadow mx-auto max-w-sm transform hover:-translate-y-1 duration-300 hover:shadow-xl " placeholder="Quantidade" style="transition: all 0.15s ease 0s;">
                                                  </div>
                                                  <div class="relative inline-flex ">
                                  <svg class="w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 412 232"><path d="M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z" fill="#648299" fill-rule="nonzero"/></svg>
                                  <select class=" text-gray-400 text-sm rounded-full shadow h-10 w-56 pl-5 pr-10 bg-white hover:-translate-y-1 duration-300 hover:shadow-xl focus:outline-none appearance-none cursor-pointer">
                                    <option value="" disabled selected >Tipo de Lançamento</option>
                                    <option >ENTRADA</option>
                                    <option>SAIDA</option>
                                    <option>SAIDA ENDOMARKETING</option>      
                                    <option>SAIDA TROCA</option>
                                    <option>ERRO EDÇÃO</option>
                                    <option>ERRO IMPRESSÃO</option> 
                                    <option>SAIDA ATUALIZAÇÃO</option>  
                                    <option>SAIDA RETORNO</option> 
                                    <option>SAIDA CANCELAMENTO</option> 

                                  </select>
                                </div>
                                    <div class="text-center mt-6">
                              <a> <button id="botao" class="p-2 rounded-xl bg-purple-600 outline-none text-white shadow w-28 justify-center focus:bg-purple-700 hover:bg-purple-500  focus:outline-none transition duration-500 ease-in-out  transform hover:-translate-x hover:scale-105 hover:shadow-xl " >Lançar<a/>
                            </div> 

                                    </div>
                                  </div>
                              </div>
             <!-- FIM FORMULARIO DE ENTRADA/SAIDA -->       
            </div>
            <!-- LISTAGEM FIM-->
                       
      </div>

</div> <!-- FIM CONTENT -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js"></script>

<script>

document.addEventListener("DOMContentLoaded",function() {

 progressJs().setOptions({overlayMode: true, theme: 'blueOverlay'})
 progressJs().start().autoIncrease(10, 300); ////////  Executar Progress  bar //////////

           google.script.run.withSuccessHandler(criarlistadeAgencias).getsheets()
          
});



///////////////////////////////////////////////  CRIAR CARD'S PARA CADA AGÊNCIA    ///////////////////////////////////////////////////////////
function criarlistadeAgencias(listaAg) {

listaAg.forEach(function(agencianome){

    if (agencianome == "calculo" | agencianome == "DADOS" | agencianome == "") {} else{

 var agg = agencianome          
     agg = agg.split(' ').join('')


$('#Material').append(

'<div id="'+agg+'" name="grid" class="relative mt-8 bg-white ml-4 py-3 px-3 rounded-3xl w-54 my-4 max-w-sm transform shadow hover:-translate-y-3 duration-700 hover:shadow-xl cursor-pointer">'+'<div id="'+agg+'-status-icone"></div>'+
'<div class="mt-8">'+
'<div class="center text-gray-500">'+
'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">'+
'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>'+
'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>'+
'</svg></div>'+
'<div class="center text-gray-500 text-sm">'+
'<p><div id="card-nome-ag" class="font-bold">'+ agencianome +'</div></p></div>'+
'<p><div  class="space-x-4  text-gray-400 text-sm" id="card-quant-ag">5 Materiais</div></p> '+
'<div class="flex space-x-2 text-gray-400 text-sm my-3">'+
'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">'+
'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>'+
'</svg>'+
'<p><div id="'+agg+'-lastdata"></div></p> '+
'</div>'+
'</div>'+
'</div>'+
'</div>');

updateDados(agencianome)

}

   // $('#'+ agg + '-status-icone').removeClass("bg-green-500").addClass("bg-yellow-300")

              $('#'+ agg).click(function(){
                    progressJs().start().autoIncrease(5, 500); ////////  Executar Progress  bar //////////
                        carregar(agencianome,criarlistadematerial);  
                        $("#Material").find("[name='grid']").removeClass("transform -translate-y-3 shadow-xl border-b-2 border-purple-400")
                        $('#'+ agg).addClass("transform -translate-y-3 shadow-xl border-b-2 border-purple-400")
                        $('#entsaid').addClass("hidden");
              });

        
    })
                     
}

  var timerUpdateDados;


function updateDados(an){

carregar(an,criaralertas) 

timerUpdateDados = setInterval(function() { 
                  carregar(an,criaralertas) 
              }, 5000);

}
function carregar(nomeage,acao) {

        google.script.run.withSuccessHandler(acao).adicionarlista2(nomeage)
       
    }

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



////////////////////////////////////   VERIFICAR  ALERTAS DOS MATERIAIS E INFORMAR NO CARD DA AGENCIA ////////////////////////////////////
 function criaralertas(lista) {

var agg = lista[0,0][0,0]        
     agg = agg.split(' ').join('')


   $('#'+agg).find("[name='status-icone']").remove()
      var emer = 0
      var aten  = 0
      var ok  = 0
      var ale  = 0

    lista.forEach(function(materialstatus){

              switch (materialstatus[0,6]) {
                      case "OK":
                          ok++
                          break
                      case "ATENÇÃO":
                          aten++
                          break
                      case "ALERTA":
                          ale++
                          break
                      case "EMERGÊNCIA":
                          emer++
                          break 
              }
    })

 var x = ""
 var i = 0

    if(emer > 0){
    x = x + '<div id="status-icone-1" name="status-icone" class=" text-white text-center items-center absolute rounded-full h-7 w-7 shadow-xl bg-black ml-'+(i*4)+' -top-3">'+
            '<span class="left-5">'+ emer +'</span>'+
            '</div>' 
    i++
            };
    if(ale > 0){
    x = x + '<div id="status-icone-2" name="status-icone" class="animate-pulse text-white text-center items-center absolute rounded-full h-7 w-7 shadow-xl bg-red-400 ml-'+(i*4)+' -top-3">'+
            '<span class="left-5">'+ ale  +'</span>'+
            '</div>' 
    i++
           };
    if(aten > 0){
    x = x + '<div id="status-icone-3" name="status-icone" class=" text-white text-center items-center absolute rounded-full h-7 w-7 shadow-xl bg-yellow-300 ml-'+(i*4)+' -top-3">'+
            '<span class="left-5">'+ aten +'</span>'+
            '</div>' 
    i++            
           };
    if(ok > 0){
    x = x + '<div id="status-icone-4" name="status-icone" class=" text-white text-center items-center absolute rounded-full h-7 w-7  shadow-xl bg-green-300 ml-'+(i*4)+' -top-3">'+
            '<span class="left-5">'+ ok +'</span>'+
            '</div>' 
    i++             
           };
 

  if(x == ""){}else{

    $('#'+agg+'-status-icone').append(x)
   //  $('#'+agg+'-lastdata').append(lista[0,1][0,0])
    }
progressJs().end(); /////// FINALIZAR PROGRESS BAR

};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////




// //////////////////////////   ADICIONAR LISTA DE MATERIAIS DEPOIS DE CLICAR NO CARD AGENCIA //////////////////////////
    function criarlistadematerial(lista) {


        $("#itensAg").empty()
        
         let i = 0

                lista.forEach(function(materialnome){

                    if (materialnome[0,1] === "" | materialnome[0,1] == "Material") {} else{
                        
            $('#material').append(
                '<tr name="list" id="'+i+'" class="border shadow-sm bg-white mx-auto max-w-sm transform hover:-translate-y-1 duration-300 hover:shadow-xl cursor-pointer">'+		
                '<td id="'+i+'-1" class="p-3 text-gray-400 font-bold">'+ materialnome[0,1] +'</td>'+
                '<td id="'+i+'-2" class="p-3 font-bold">'+ formatnumero(materialnome[0,2]) +'</td>'+    
                '<td id="'+i+'-3" class="p-3 font-bold">'+ formatnumero(materialnome[0,3]) +'</td>'+                
                '<td id="'+i+'-4" class="p-3 font-bold">'+ formatnumero(materialnome[0,4]) +'</td>'+ 
                '<td id="'+i+'-5" class="p-3 font-bold text-center">'+
                '<span class="bg-gray-200 text-gray-350 rounded-md px-2">'+ formatnumero(materialnome[0,5]) +
                '</span></td>'+
                      //'<td class="p-3">'+((materialnome[0,4]/ materialnome[0,2])*100).toFixed(1)+'%'+
                      '<td class="p-3 text-center">'+corStatus(materialnome[0,6])+
                      '</td></tr>');

                            //$('#'+i).click(function(){ $('#'+i).addClass("bg-green-500") });
                        i++
                         
                    };    
                }); 

                for (let j = 0; j < i; j++) { $('#'+j).click(function(){ 
                                          
                        //  AÇÃO QUANDO CLICAR NO ITEM ///

                          $('#entsaid').removeClass("hidden");
                          $('#'+j).find("[name='list']").removeClass("shadow");
                          $('#'+j).addClass("shadow");

                          $('#card-nome-mat').text(document.getElementById(+j+'-2').innerText);
                          $('#card-quant-mat').text(document.getElementById(+j+'-4').innerText);
                           $('#card-quant-mat').addClass("bg-yellow-300");
                           document.getElementById("entsaid").style.top = ((j*55)-i*60) + "px"

                        ////////////////////////////////
                      });

                  }
      progressJs().end(); /////// FINALIZAR PROGRESS BAR   
    }


function corStatus(status){

var x 

              switch (status) {
                      case "OK":
                          x = '<span class="bg-green-400 text-gray-50 rounded-md px-2">OK</span></td>'
                         break
                      case "ATENÇÃO":
                           x = '<span class="bg-yellow-400 text-gray-50 rounded-md px-2">Atenção</span></td>' 
                        break       
                      case "ALERTA":
                           x = '<span class="bg-red-400 text-gray-50 rounded-md px-2">Alerta</span></td>'
                         break
                      case "EMERGÊNCIA":
                          x = '<span class="bg-black text-gray-50 rounded-md px-2">Emergência</span></td>'
                          break
              }

return x

}
//////////////////////////////////////////////////////////////////////////////////////////////////////


function formatnumero(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}



//////////////////////////////////// ADD FUNÇÃO SORT NA TABELA//////////////////////////////////
const getCellValue = (tr, idx) => tr.children[idx].innerText || tr.children[idx].textContent;

const comparer = (idx, asc) => (a, b) => ((v1, v2) => 
    v1 !== '' && v2 !== '' && !isNaN(v1) && !isNaN(v2) ? v1 - v2 : v1.toString().localeCompare(v2)
    )(getCellValue(asc ? a : b, idx), getCellValue(asc ? b : a, idx));

//
document.querySelectorAll('th').forEach(th => th.addEventListener('click', (() => {
    const table = th.closest('table');
    Array.from(table.querySelectorAll('tr:nth-child(n+2)'))
        .sort(comparer(Array.from(th.parentNode.children).indexOf(th), this.asc = !this.asc))
        .forEach(tr => table.appendChild(tr) );
})));
///////////////////////////////////////////////////////////////////////////////////////////////


//////////////////////////////////// ADD DADOS//////////////////////////////////
function additemclick(){
      
        var tipo =  document.getElementById("tipoitem");
        var quant =  document.getElementById("quantidade");
        var itemnome =  document.getElementById("material");
        var agencia = document.getElementById("agencia");
        var rowData = {agencianome: agencia.value,itemnome: itemnome.value,tipo:  tipo.value,quant: quant.value};

      if( itemnome.value == "" || tipo.value == "" || quant.value == ""){  

        return

        } else {

            google.script.run.withSuccessHandler(limpar).adicionar(rowData)

        }

    };
///////////////////////////////////////////////////////////////////////////////////////////////

    
</script>


<style>
  .text-shadow {
    text-shadow: 0 2px 4px rgba(138,43,226,0.20);
  }

	.table {
		border-spacing: 0 15px;
	}

	i {
		font-size: 1rem !important;
	}

	.table tr {
		border-radius: 20px;
	}

	tr td:nth-child(n+5),
	tr th:nth-child(n+5) {
		border-radius: 0 .625rem .625rem 0;
	}

	tr td:nth-child(1),
	tr th:nth-child(1) {
		border-radius: .625rem 0 0 .625rem;
	}

/* width */
::-webkit-scrollbar {
  width: 6px;
}

/* Track */
::-webkit-scrollbar-track {
  background: #f1f1f1; 
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #888; 
  border-radius: 20px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #555; 
}
/*
 .shadow-xl {
  box-shadow: 0 20px 25px -5px rgba(138,43,226, .1), 0 10px 10px -5px rgba(138,43,226, .10);
} 
 */

.progressjs-inner{width:0}.progressjs-progress{z-index:9999999}.progressjs-theme-blue .progressjs-inner{height:2px;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;background-color:#3498db}.progressjs-theme-blue.progressjs-end{-webkit-transition:opacity .2s ease-out;-moz-transition:opacity .2s ease-out;-o-transition:opacity .2s ease-out;transition:opacity .2s ease-out;opacity:0}.progressjs-theme-blue .progressjs-percent{display:none}.progressjs-theme-blueOverlay{background-color:white;-webkit-transition:all .2s ease-out;-moz-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out}.progressjs-theme-blueOverlay .progressjs-inner{height:100%;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;background-color:#3498db}.progressjs-theme-blueOverlay.progressjs-end{opacity:0!important}.progressjs-theme-blueOverlay .progressjs-percent{display:none}.progressjs-theme-blueOverlay{background-color:white;-webkit-transition:all .2s ease-out;-moz-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out}.progressjs-theme-blueOverlay .progressjs-inner{height:100%;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;background-color:#3498db}.progressjs-theme-blueOverlay.progressjs-end{opacity:0!important}.progressjs-theme-blueOverlay .progressjs-percent{display:none}.progressjs-theme-blueOverlayRadius{background-color:white;-webkit-transition:all .2s ease-out;-moz-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;border-radius:5px}.progressjs-theme-blueOverlayRadius .progressjs-inner{height:100%;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;background-color:#3498db;border-radius:5px}.progressjs-theme-blueOverlayRadius.progressjs-end{opacity:0!important}.progressjs-theme-blueOverlayRadius .progressjs-percent{display:none}.progressjs-theme-blueOverlayRadiusHalfOpacity{background-color:white;opacity:.5;-webkit-transition:all .2s ease-out;-moz-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;border-radius:5px}.progressjs-theme-blueOverlayRadiusHalfOpacity .progressjs-inner{height:100%;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;background-color:#3498db;border-radius:5px}.progressjs-theme-blueOverlayRadiusHalfOpacity.progressjs-end{opacity:0!important}.progressjs-theme-blueOverlayRadiusHalfOpacity .progressjs-percent{display:none}.progressjs-theme-blueOverlayRadiusWithPercentBar{background-color:white;-webkit-transition:all .2s ease-out;-moz-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;border-radius:5px}.progressjs-theme-blueOverlayRadiusWithPercentBar .progressjs-inner{height:100%;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;background-color:#3498db;border-radius:5px}.progressjs-theme-blueOverlayRadiusWithPercentBar.progressjs-end{opacity:0!important}.progressjs-theme-blueOverlayRadiusWithPercentBar .progressjs-percent{width:70px;text-align:center;height:40px;position:absolute;right:50%;margin-right:-35px;top:50%;margin-top:-20px;font-size:30px;opacity:.5}.progressjs-theme-blackRadiusInputs{height:10px;border-radius:10px;overflow:hidden}.progressjs-theme-blackRadiusInputs .progressjs-inner{height:2px;-webkit-transition:all 1s ease-out;-moz-transition:all 1s ease-out;-o-transition:all 1s ease-out;transition:all 1s ease-out;background-color:#34495e}.progressjs-theme-blackRadiusInputs.progressjs-end{-webkit-transition:opacity .2s ease-out;-moz-transition:opacity .2s ease-out;-o-transition:opacity .2s ease-out;transition:opacity .2s ease-out;opacity:0}.progressjs-theme-blackRadiusInputs .progressjs-percent{display:none}


</style>

 <!-- --------------------------------------------------------------------------------- -->

  </body>
  </body>

</html>
